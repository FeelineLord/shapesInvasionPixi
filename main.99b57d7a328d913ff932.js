!function(t){function e(e){for(var r,i,c=e[0],u=e[1],s=e[2],l=0,y=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&y.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(f&&f(e);y.length;)y.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var f=u;a.push([130,1]),n()}({130:function(t,e,n){n(131),t.exports=n(327)},317:function(t,e,n){},327:function(t,e,n){"use strict";n.r(e);n(317);var r=n(29);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function t(e,n,r,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"app",void 0),a(this,"view",void 0),a(this,"width",void 0),a(this,"height",void 0),a(this,"size",void 0),a(this,"_state",void 0),a(this,"setState",(function(t,e){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];i.state[o]=t[o]}void 0!==e&&e()})),a(this,"getRandomInt",(function(t,e){return Math.floor(t+Math.random()*(e+1-t))})),a(this,"getRandomColor",(function(){return parseInt("0X"+(Math.random().toString(16)+"000000").substring(2,8).toUpperCase())})),this.app=e,this.view=e.view,this.width=n,this.height=r,this.size=o}var e,n,r;return e=t,(n=[{key:"state",get:function(){return this._state}}])&&o(e.prototype,n),r&&o(e,r),t}(),c=n(329);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function t(e,n,r,o){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"canvas",void 0),u(this,"ctx",void 0),u(this,"width",void 0),u(this,"height",void 0),u(this,"size",void 0),u(this,"getRandomInt",(function(t,e){return Math.floor(t+Math.random()*(e+1-t))})),u(this,"render",(function(){var t=document.querySelector("#imitationField");a.canvas.id="imitation",a.canvas.className="imitation",t.style.width=a.width+"px",t.style.height=a.height+"px",t.append(a.canvas)})),u(this,"imitaion",(function(t){var e=[];a.ctx.fillStyle="#33FF00",a.ctx.beginPath(),t.forEach((function(t,e){0===e?a.ctx.moveTo(t[0].x,t[0].y):a.ctx.bezierCurveTo(t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y)}));for(var n=0;n<a.width;n++){var r=a.getRandomInt(0,a.width),o=a.getRandomInt(0,a.height),i=a.ctx.getImageData(r,o,1,1);3407616===NaN+i.data[0]+i.data[0]+i.data[1]+i.data[1]+i.data[2]+i.data[2]?e.push(1):e.push(0)}var c=(e=e.sort()).indexOf(1)-1,u=Math.floor(100/a.width*c);return a.width*a.height*(1-u/100)})),u(this,"remove",(function(){document.querySelector("#imitation").remove()})),this.canvas=e,this.ctx=e.getContext("2d"),this.width=n,this.height=r,this.size=o},f=function(t,e,n,r,o,a,i,c,u){return[[{x:n,y:e+3*i}],[{x:n,y:e+3*i-c-u},{x:n-i,y:e},{x:n-5*i,y:e}],[{x:t,y:e},{x:t,y:r-2*i},{x:t,y:r-2*i}],[{x:t,y:r+c+i},{x:t+4*i,y:a-4*i+c-u},{x:n,y:a}],[{x:o-4*i,y:a-4*i+c-u},{x:o,y:r+c+i},{x:o,y:r-2*i}],[{x:o,y:r-2*i},{x:o,y:e},{x:o-6*i,y:e}],[{x:n+2*i,y:e},{x:n,y:e+3*i-c-u},{x:n,y:e+3*i}]]},l=function(t,e,n,r,o,a){switch(!0){case"triangle"===t:return e/2*n;case"rectangle"===t:return e*n;case"pentagon"===t:return 5*Math.pow(r,2)/(4*Math.tan(Math.PI/5));case"hexagon"===t:return 6*Math.pow(r,2)/(4*Math.tan(Math.PI/6));case"ellipse"===t||"circle"===t:return e/2*n/2;case"hearth"===t:return function(t,e,n,r){var o=document.createElement("canvas");o.width=t,o.height=e;var a=new s(o,t,e,n);a.render();var i=a.imitaion(r);return a.remove(),i}(e,n,o,a);default:return 0}};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,t);var e=v(n);function n(t,o,a,i,u,s,y,h,d,v,g){var m;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),w(b(m=e.call(this,t,o,a,i)),"events",void 0),w(b(m),"init",(function(t){var e=m.state,n=e.width,r=e.height,o=function(t,e,n,r,o,a){var i,c,u,s,y=e+r/2,p=n+o/2,h=e+r,d=n+o,v=a/2,g=a/10;switch(t){case"triangle":return{area:l("triangle",r,o,0),dots:[{x:y,y:n},{x:h,y:d},{x:e,y:d},{x:y,y:n}]};case"rectangle":return{area:l("rectangle",r,o,0),dots:[{x:e,y:n},{x:h,y:n},{x:h,y:d},{x:e,y:d},{x:e,y:n}]};case"pentagon":return i=r-(s=r/(2*Math.cos(2*Math.PI/5)+1))/(2*Math.tan(Math.PI/5))-s/(2*Math.sin(Math.PI/5)),c=(r-s)/2,u=Math.sqrt(s*s-r/2*(r/2)),{area:l("pentagon",r,o,s),dots:[{x:y,y:n+i},{x:h,y:n+i+u},{x:h-c,y:d},{x:e+c,y:d},{x:e,y:n+i+u},{x:y,y:n+i}]};case"hexagon":return i=o-(s=r/2)/(2*Math.tan(Math.PI/6))*2,c=r/4,{area:l("hexagon",r,o,s),dots:[{x:e+c,y:n+i},{x:h-c,y:n+i},{x:h,y:n+i+(o-i)/2},{x:h-c,y:d},{x:e+c,y:d},{x:e,y:n+i+(o-i)/2},{x:e+c,y:n+i}]};case"circle":return{area:l("circle",r,o,0),dots:[{x:y,y:p+o/4}]};case"ellipse":return{area:l("ellipse",r,o,0),dots:[[{x:h,y:p}],[{x:h,y:d-o/4},{x:h-r/4,y:d},{x:y,y:d}],[{x:e+r/4,y:d},{x:e,y:d-o/4},{x:e,y:p}],[{x:e,y:n+o/4},{x:e+r/4,y:n},{x:y,y:n}],[{x:h-r/4,y:n},{x:h,y:n+o/4},{x:h,y:p}]]};case"hearth":return{area:l("hearth",r,o,0,a,f(0,0,r/2,o/2,r,o,a,v,g)),dots:f(e,n,y,p,h,d,a,v,g)};default:return{area:0,dots:[]}}}(e.type,0,0,n,r,m.size);m.setState({dots:o.dots,area:o.area},(function(){m.draw(m.state)})),t()})),w(b(m),"draw",(function(t){t.context&&t.context.destroy();var e=new r.c;if(e.clear(),e.beginFill(m.state.color,.5),"circle"===t.type)e.arc(t.dots[0].x,t.dots[0].y,t.width/2,0,2*Math.PI);else if("hearth"===t.type||"ellipse"===t.type)t.dots.forEach((function(t,n){0===n?e.moveTo(t[0].x,t[0].y):e.bezierCurveTo(t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y)}));else{var n,o=[],a=p(t.dots);try{for(a.s();!(n=a.n()).done;){var i=n.value;o.push(i.x),o.push(i.y)}}catch(t){a.e(t)}finally{a.f()}e.drawPolygon(o.flat()),e.closePath()}e.endFill();var c=new r.b;c.buttonMode=!0,c.interactive=!0,c.x=t.cx,c.y=t.cy,c.on("pointerdown",m.onClick),c.addChild(e),m.setState({context:c}),m.app.stage.addChild(c)})),w(b(m),"update",(function(t,e){var n=m.state,r=n.context,o=n.height,a=n.cy,i=n.visible;r.y=a+t,m.setState({cy:a+t}),a+t+o>0&&!i&&m.setState({visible:!0},(function(){e(m.state.area,!0)}))})),w(b(m),"run",(function(t,e,n){var r=m.state,o=r.id,a=r.type,i=r.cy,c=r.area,u=r.context;m.update(e,n),i>m.height&&t(o,a,c,u)})),w(b(m),"changeColor",(function(t,e){e!==m.state.id&&(m.setState({color:t}),m.draw(m.state))})),w(b(m),"onClick",(function(){var t=m.state,e=t.id,n=t.type,r=t.area,o=t.color,a=t.context;m.events.shapeClick(e,n,r,o,a)})),m._state={initialized:!1,visible:!1,id:Object(c.a)(),width:u,height:s,cx:y,cy:h,type:d,dots:[],area:0,color:v},m.events=g,m}return n}(i),S=["triangle","rectangle","pentagon","hexagon","circle","ellipse","hearth"];function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?E(t):e}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z={shapesAmount:document.querySelector("#shapesAmount"),surfaceArea:document.querySelector("#surfaceArea"),spawn:document.querySelector("#spawnValue"),gravity:document.querySelector("#gravityValue")},D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(n,t);var e=k(n);function n(t,o,a,i){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),A(E(c=e.call(this,t,o,a,i)),"animationCount",void 0),A(E(c),"field",void 0),A(E(c),"ticker",void 0),A(E(c),"setEvents",(function(){var t={spawnDecr:document.querySelector("#spawnDecr"),spawnIncr:document.querySelector("#spawnIncr"),gravityDecr:document.querySelector("#gravityDecr"),gravityIncr:document.querySelector("#gravityIncr")},e=function(t,e){var n=c.state[t];e&&n>=60||!e&&n<=1||c.setState(A({},t,e?n+1:n-1),(function(){c.updateUi()}))},n=function(t){switch(t.target.id){case"spawnDecr":e("spawn",!1);break;case"spawnIncr":e("spawn",!0);break;case"gravityDecr":e("gravity",!1);break;case"gravityIncr":e("gravity",!0)}};for(var r in t)t[r].addEventListener("click",n);c.field.beginFill(16777215,.01),c.field.drawRect(0,0,c.width,c.height),c.field.endFill(),c.field.interactive=!0;c.field.on("pointerdown",(function(t){var e=(t.data.originalEvent.pageX-c.app.view.offsetLeft)/(c.app.view.offsetWidth/c.app.view.width),n=(t.data.originalEvent.pageY-c.app.view.offsetTop)/(c.app.view.offsetHeight/c.app.view.height);c.makeShape(e,n)})),c.app.stage.addChild(c.field)})),A(E(c),"init",(function(){c.setEvents(),c.ticker.add((function(){c.run()})),c.animationCount=Math.round(c.ticker.FPS),setInterval((function(){c.ticker.FPS<31&&(c.animationCount=c.ticker.FPS)}),2e3)})),A(E(c),"start",(function(){c.ticker.start()})),A(E(c),"render",(function(){for(var t=c.state,e=t.shapes,n=t.gravity,r=0,o=Object.keys(e);r<o.length;r++){var a,i=C(e[o[r]]);try{for(i.s();!(a=i.n()).done;){a.value.run(c.removeShape,n,c.updateValues)}}catch(t){i.e(t)}finally{i.f()}}})),A(E(c),"update",(function(){c.addShape()})),A(E(c),"run",(function(){c.update(),c.render()})),A(E(c),"makeShape",(function(t,e){var n=c.state.shapes,r=c.getRandomInt(0,6),o=S[r],a=0,i=0;"rectangle"===o||"ellipse"===o?(a=30*c.size,i=20*c.size):"hearth"===o?(a=22*c.size,i=19*c.size):(a=20*c.size,i=20*c.size);var u=P({},n),s=new x(c.app,c.width,c.height,c.size,a,i,t?t-a/2:c.getRandomInt(0,c.width-a),e?e-i/2:-c.getRandomInt(i,2*c.height),o,c.getRandomColor(),{shapeClick:c.shapeClick});s.init((function(){u[o].push(s)})),c.setState({shapes:P({},u)},(function(){c.updateUi()}))})),A(E(c),"addShape",(function(){var t=c.ticker.FPS,e=c.state.spawn;c.animationCount<Math.round(t)/e?c.animationCount+=1:(c.makeShape(),c.animationCount-=Math.round(t)/e)})),A(E(c),"removeShape",(function(t,e,n,r){var o=P({},c.state.shapes);o[e]=o[e].filter((function(e){return e.state.id!==t})),c.setState({shapes:o},(function(){c.updateValues(n,!1)})),r.destroy()})),A(E(c),"shapeClick",(function(t,e,n,r,o){c.state.shapes[e].forEach((function(e){return e.changeColor(r,t)})),c.removeShape(t,e,n,o)})),A(E(c),"updateValues",(function(t,e){var n=c.state,r=n.amount,o=n.area;e?c.setState({amount:r+1,area:o+t}):c.setState({amount:r-1,area:o-t},(function(){c.updateUi()}))})),A(E(c),"updateUi",(function(){var t=c.state,e=t.amount,n=t.area,r=t.spawn,o=t.gravity;z.shapesAmount.textContent=""+e,z.surfaceArea.textContent=""+Math.trunc(n),z.spawn.textContent=""+r,z.gravity.textContent=""+o})),c._state={shapes:{triangle:[],rectangle:[],pentagon:[],hexagon:[],circle:[],ellipse:[],hearth:[]},amount:0,area:0,spawn:3,gravity:3},c.animationCount=0,c.field=new r.c,c.ticker=new r.d,c}return n}(i);!function(t,e,n){var o=document.querySelector("#root"),a=new r.a({antialias:!0,width:t,height:e,transparent:!0});a.view.id="gravity",a.view.className="gravity",o.append(a.view);var i=new D(a,t,e,n);i.init(),window.addEventListener("load",(function(){i.start()}))}(1920,1080,5)}});